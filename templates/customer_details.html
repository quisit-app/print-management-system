{% if user.username == 'admin' %}
    {% extends 'admin/admin_base.html' %}
{% else %}
    {% extends 'customer_base.html' %}
{% endif %}

{% block content %}
<div class="container mt-4">
    <h2>Customer Details</h2>
    <div class="card">
        <div class="card-body">
            <form method="POST">
                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-control" value="{{ user.username }}" readonly>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" name="email" value="{{ user.email }}" required> </input>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Company</label>
                    <input type="text" class="form-control" name="company" value="{{ user.company }}" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Telephone Number</label>
                    <input type="text" class="form-control" name="telNo" value="{{ user.telNo }}" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Address</label>
                    <textarea class="form-control" name="address" rows="3" required>{{ user.address }}</textarea>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">New Password (leave blank to keep current)</label>
                    <input type="password" class="form-control" name="password">
                </div>
                
                <div class="d-flex justify-content-between">
                    <button type="submit" class="btn btn-primary">Update Details</button>
                    <button type="submit" name="delete" value="true" class="btn btn-danger" 
                            onclick="return confirm('Are you sure you want to delete this user? This action cannot be undone.')">
                        Delete User
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <div class="mt-3">
        <a href="{{ url_for('welcome') }}" class="btn btn-secondary">Back to Admin Panel</a>
    </div>
</div>
{% endblock %} 